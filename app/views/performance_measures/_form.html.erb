<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <%= form_for @performance_measure, html: { class:"form-horizontal" } do |measure_fields| %>
      <fieldset>
        <legend><%= action_name.capitalize %> Performance Measure Form</legend>
        
        <%= render partial: 'shared/error_messages', locals: { resource: @performance_measure } %>

        <div class="form-group" id="key-focus-area-selection">
          <label for="key_focus_area_id" class="col-md-3 control-label">Key Focus Area</label>
          <div class="col-md-9">
            <%= collection_select(  :objective,
                                    :key_focus_area_id,
                                    KeyFocusArea.all,
                                    :id,
                                    :name,
                                    { prompt: "Please select the Key Focus Area" },
                                    class: "form-control" ) %>

            <%= measure_fields.hidden_field(:measurable_type) %>
          </div>
        </div>

        <div id="new-measure-fields" class="hide">
          <div class="form-group">
            <%= measure_fields.label :description, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :description, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :target, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :target, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :unit_of_measure, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :unit_of_measure, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :measurement_formula, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :measurement_formula, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :data_source, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :data_source, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :rationale_for_target, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :rationale_for_target, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :data_contact_person, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :data_contact_person, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :person_reporting_data_to_bms, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :person_reporting_data_to_bms, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <%= measure_fields.label :notes, class: "col-md-3 control-label" %>
            <div class="col-md-9">
              <%= measure_fields.text_field :notes, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <div class="col-md-9 col-md-offset-3">
              <%= link_to 'Cancel', performance_measures_path, class: "btn btn-default" %>
              <%= measure_fields.submit class: "btn btn-primary" %>
            </div>
          </div>
        </div>
        
      </fieldset>
    <% end %>
  </div>
</div>