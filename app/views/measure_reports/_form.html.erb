<%= form_for @measure_report, remote: true, html: { class:"form-horizontal" }, data: { turbolinks: true } do |report_fields| %>
  <fieldset>
    <legend>Measure Validation and Results Submission Form</legend>

    <div class="form-group" id="key-focus-area-selection">
      <label for="key_focus_area_id" class="col-md-3 control-label">Key Focus Area</label>
      <div class="col-md-9">
        <%= collection_select(  :objective,
                                :key_focus_area_id,
                                KeyFocusArea.all,
                                :id,
                                :name,
                                { prompt: "Please select the Key Focus Area" },
                                class: "form-control" ) %>
      </div>
    </div>

    <hr>

    <div class="panel panel-info hide" id="report-data-panel">
      <div class="panel-heading">
        <h3 class="panel-title">Current Data</h3>
      </div>
      
      <div class="col-xs-12 well">
        <p class="well-paragraph flex layout-row">
          <span flex>Reporting Period:&nbsp;</span>
          <%= report_fields.date_select :date_start, { order: [:month, :year], with_css_classes: true }, { class: "form-control" } %> 
          <span flex>to</span>
          <%= report_fields.date_select :date_end, { order: [:month, :year], with_css_classes: true }, { class: "form-control" } %>
        </p>
      </div>
      
      <div class="panel-body">

        <div class="form-group">
          <%= report_fields.label :performance, "Performance", class: "col-md-3 control-label" %>
          <div class="col-md-9">
            <%= report_fields.text_field :performance, class: "form-control", required: true %>
          </div>
        </div>
        
        <div class="form-group">
          <%= report_fields.label :status, "Status", class: "col-md-3 control-label" %>
          <div class="col-md-9">
            <%= report_fields.select :status, ["All is well with performance. Target will be or is met.", "Performance is not where expected or current status is in trouble.", "Target will not be or is not met."], {}, class: "form-control" %>
          </div>
        </div>
        
        <div class="form-group">
          <%= report_fields.label :comments, "Comments", class: "col-md-3 control-label" %>
          <div class="col-md-9">
            <%= report_fields.text_area :comments, class: "form-control" %>
          </div>
        </div>
        
        <div class="form-group">
          <%= report_fields.label :bms_comments, "BMS Comments", class: "col-md-3 control-label" %>
          <div class="col-md-9">
            <%= report_fields.text_area :bms_comments, class: "form-control" %>
          </div>
        </div>

        <div class="pull-right">
          <%= report_fields.submit class: "btn btn-primary" %>
        </div>
      </div>
    </div>

    <%= link_to 'Cancel', measure_reports_path, class: "btn btn-default" %>

  </fieldset>
<% end %>
